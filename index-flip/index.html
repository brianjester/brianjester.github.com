<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="IndexFlip - Study decks for Hiragana, Katakana, JLPT, Morse code, Braille, Periodic Table, ASL, Baybayin, FCC Amatuer Radio Technician, Canadian Basic Amateur Radio, AWS Machine Learning, California DMV Drivers Licence, New York DMV Drivers License, Music Notes, Californa DRE (Dept. or Real Estate)">
    <meta name="author" content="Brian Jester">
    <meta name="generator" content="Notepad++">
    <title>⟳IndexFlip</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/navbar-static/">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    
    <!-- Custom styles for flip cards -->
    <link href="default.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="navbar-top.css" rel="stylesheet">
    <!-- PWA - Progressive Web App manifest -->
    <link rel="manifest" href="manifest.json">

  </head>
  <body>
    
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><span class="fst-italic">⟳Index</span><span class="text-success">Flip</span></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav me-auto mb-2 mb-md-0">
	  	<li class="nav-item">
          <a class="nav-link active" id="jp_hira_link" aria-current="page" href="#" onclick="loadJpHiraQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 Hiragana</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="jp_kata_link" aria-current="page" href="#" onclick="loadJpKataQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 Katakana</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="jlpt_n5_k_link" aria-current="page" href="#" onclick="loadJlptN5KanjiQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 JLPT N5 Kanji</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="jlpt_n5_v_link" aria-current="page" href="#" onclick="loadJlptN5VocabQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 JLPT N5 Vocab</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="music_link" aria-current="page" href="#" onclick="loadMusicQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Music Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="braille_link" aria-current="page" href="#" onclick="loadBrailleQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Braille</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="calif_dmv_c_link" aria-current="page" href="#" onclick="loadCaDmvQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇺🇸 Calif DMV</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="ny_dmv_link" aria-current="page" href="#" onclick="loadNyDmvQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇺🇸 NY DMV</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="fcc_tech_link" aria-current="page" href="#" onclick="loadFccTechQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇺🇸 FCC Tech</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="ca_basic_link" aria-current="page" href="#" onclick="loadCaBasicQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇨🇦 CDN Basic Amateur Radio</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="jp_2_link" aria-current="page" href="#" onclick="loadJp2Questions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 第二級アマチュア無線技士</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="morse_link" aria-current="page" href="#" onclick="loadMorseQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Morse Code</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="aws_ml_link" aria-current="page" href="#" onclick="loadAwsMlQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">AWS ML</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="asl_link" aria-current="page" href="#" onclick="loadAslQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">ASL</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="baybayin_link" aria-current="page" href="#" onclick="loadBaybayinQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇵🇭 Baybayin</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="periodic_link" aria-current="page" href="#" onclick="loadPeriodicQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Periodic Table</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="create_cards_link" aria-current="page" href="#" onclick="createQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Create Cards</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="load_cards_link" aria-current="page" href="#" onclick="loadQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">Load Cards</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" id="calif_dre_link" aria-current="page" href="#" onclick="loadCaDreQuestions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇺🇸 Calif Real Estate</a>
        </li>
		<li class="nav-item">
          <a class="nav-link active" id="jp_kanji_1_link" aria-current="page" href="#" onclick="loadJpK1Questions()" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">🇯🇵 Kanji 1st Gr</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<main class="container">
  <div class="container" role="navigation">
    <div class="row">
      <H3><p id = "title" class="text-success"><B> </B></p></H3>
    </div>
    <div class="row">
      <div class="col-lg-6">

        <div class="flip-card">
          <div class="d-grid gap-2 d-md-flex justify-content-around">
            <row>
              <button id="order-btn" class="btn btn-primary btn-med me-md-2" type="button" onclick="setupOrder()">◀️◀️</button>
              <button id="back-one-btn" class="btn btn-primary btn-med me-md-2" type="button" onclick="backOne()">◀️</button>
              <button id="random-btn" class="btn btn-primary btn-med me-md-2" type="button" onclick="randomize()">🎲</button>
              <button id="next-btn-1" class="btn btn-primary btn-med" type="button" onclick="setupCard()"> </button>
            </row>
          </div>
          <div class="flip-card-inner" id="flip-card-inner">

            <div class="flip-card-front">
              <BR>
              <div  style="border: 1px solid grey;padding: 25px;background-color: ivory;">
                <p id = "question_id" class="text-primary"><u> </u></p>
                <H5><p id = "question"> </p></H5>
                <p id="figure-front" style="text-align: center;"> </p>
                <p id="figure-attribution" class="text-secondary" style="text-align: center;"> </p>
                <p class="text-secondary" style="text-align: right;" onclick="flipMe(180)"><i>click to flip ⟳</i></p>
              </div>
              <BR>
              <div class="d-grid gap-2 d-md-flex justify-content-around">
                <button id="flip-btn-front" class="btn btn-primary btn-med me-md-4" type="button" onclick="flipMe(180)"> </button>
              </div>            
            </div>

            <div class="flip-card-back">
              <BR>
              <div  style="border: 1px solid grey;padding: 25px;background-color: ivory;">
                <p id = "answer_id" class="text-primary"><u> </u></p>
				<H5><p id = "question-back"> </p></H5>
                <p id="A" onclick='selectAnswer("A")'> </p>
                <p id="B" onclick='selectAnswer("B")'> </p>
                <p id="C" onclick='selectAnswer("C")'> </p>
                <p id="D" onclick='selectAnswer("D")'> </p>
                <p id="E" onclick='selectAnswer("E")'> </p>
                <p id="figure-back" style="text-align: center;"> </p>
                <p id="figure-attribution-back" class="text-secondary" style="text-align: center;"> </p>
                <p class="text-secondary" style="text-align: right;" onclick="flipMe(0)"><i>click to flip ⟳</i></p>
              </div>
              <BR>
              <div class="d-grid gap-2 d-md-flex justify-content-around">
                <row>
                  <button id="check-btn" class="btn btn-primary btn-med me-md-4" type="button" onclick="check()"> </button>
                  <button id="reveal-btn" class="btn btn-primary btn-med me-md-4" type="button" onclick="reveal()"> </button>
                  <button id="flip-btn-back" class="btn btn-primary btn-med" type="button" onclick="flipMe(0)"> </button>
                </row>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>
</main>
<span class="morse-text" style="font-family: monospace; visibility: visible; font-size: 120%; vertical-align: 1.5ex; white-space: pre-wrap; text-align: center;"></span>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JJGDGRJYDW"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7109249808946513"
     crossorigin="anonymous"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JJGDGRJYDW');
  <!-- PWA - Progressive Web App Service Worker -->
  if ("serviceWorker" in navigator) {
    // register service worker
    navigator.serviceWorker.register("service-worker.js");
  }

// Feature toggles
const NEW_CARD = false;  // Create Cards and Load Cards menu items
const PERIODIC = true;  // Show Periodic table menu items
var show_morse = false; // Show Morse Code dots and dashes (controlled by morse-text class
if(!NEW_CARD) {
	  document.getElementById("create_cards_link").innerHTML = " ";
	  document.getElementById("load_cards_link").innerHTML = " ";
	  document.getElementById("create_cards_link").className = "nav-link disabled";
	  document.getElementById("load_cards_link").className = "nav-link disabled";
}

document.getElementById("calif_dre_link").innerHTML = " ";
document.getElementById("calif_dre_link").className = "nav-link disabled";
document.getElementById("jp_kanji_1_link").innerHTML = " ";
document.getElementById("jp_kanji_1_link").className = "nav-link disabled";
document.getElementById("calif_dre_link").innerHTML = " ";
document.getElementById("calif_dre_link").className = "nav-link disabled";
// Default json page to load   
//window.onload = loadWelcome();
const url = new URL(window.location.href);
const searchParams = url.searchParams;
const test = searchParams.get('q'); // 'test'
const tests = ['calif_dmv','ny_dmv','fcc_tech','ca_basic','calif_dre','jp_2','jp_hira','jp_kata','jp_kanji_1','music','aws_ml','morse', 'asl', 'baybayin', 'periodic', 'n5k', 'n5v', 'braille'];
if (tests.includes(test)) {
	switch (test) {
	  case 'calif_dmv':
		loadCaDmvQuestions();
		break;
	  case 'ny_dmv':
		loadNyDmvQuestions();
		break;
	  case 'fcc_tech':
		loadFccTechQuestions();
		break;
	  case 'ca_basic':
		loadCaBasicQuestions();
		break;
	  case 'calif_dre':
		loadCaDreQuestions();
		break;
	  case 'jp_2':
		loadJp2Questions();
		break;
	  case 'jp_hira':
		loadJpHiraQuestions();
		break;
	  case 'jp_kata':
		loadJpKataQuestions();
		break;
	  case 'jp_kanji_1':
		loadJpK1Questions();
		break;
	  case 'music':
		loadMusicQuestions();
		break;
	  case 'aws_ml':
		loadAwsMlQuestions();
		break;
	  case 'morse':
		loadMorseQuestions();
		break;
	  case 'asl':
		loadAslQuestions();
		break;
	  case 'baybayin':
		loadBaybayinQuestions();
		break;
	  case 'periodic':
		loadPeriodicQuestions();
		break;
	  case 'n5k':
		loadJlptN5KanjiQuestions();
		break;
	  case 'n5k':
		loadJlptN5VocabQuestions();
		break;
	  case 'braille':
		loadBrailleQuestions();
		break;
	  default:
		loadWelcome();
	}
} else {
	loadWelcome();
}

async function loadWelcome() {
  gtag('event', 'page_view', {
    "page_title": "loadWelcome",
    });
  resetNavLinks();
  window.json = await fetch('https://brianjester.github.io/index-flip/welcome.json').then(response => { return response.json() });
  postInit();
}
async function loadCaDmvQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadCaDmvQuestions",
    });
  resetNavLinks();
  document.getElementById("calif_dmv_c_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_ca_dl.json').then(response => { return response.json() });
  postInit();
}
async function loadNyDmvQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadNyDmvQuestions",
    });
  resetNavLinks();
  document.getElementById("ny_dmv_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_ny_dl.json').then(response => { return response.json() });
  postInit();
}

async function loadFccTechQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadFccTechQuestions",
    });
  resetNavLinks();
  document.getElementById("fcc_tech_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_fcc_tech.json').then(response => { return response.json() });
  postInit();
}

async function loadCaBasicQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadCaBasicQuestions",
    });
  resetNavLinks();
  document.getElementById("ca_basic_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_ca_basic.json').then(response => { return response.json() });
  postInit();
}

async function loadCaDreQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadCaDreQuestions",
    });
  resetNavLinks();
  document.getElementById("calif_dre_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_ca_re.json').then(response => { return response.json() });
  postInit();
}

async function loadJp2Questions() {
  gtag('event', 'page_view', {
    "page_title": "loadJp2Questions",
    });
  resetNavLinks();
  document.getElementById("jp_2_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jp_2.json2').then(response => { return response.json() });
  postInit();
}

async function loadJpHiraQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadJpHiraQuestions",
    });
  resetNavLinks();
  document.getElementById("jp_hira_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jp_hira.json').then(response => { return response.json() });
  postInit();
}

async function loadJpKataQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadJpKataQuestions",
    });
  resetNavLinks();
  document.getElementById("jp_kata_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jp_kata.json').then(response => { return response.json() });
  postInit();
}

async function loadJpK1Questions() {
  gtag('event', 'page_view', {
    "page_title": "loadJpK1Questions",
    });
  resetNavLinks();
  document.getElementById("jp_kanji_1_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jp_kanji_1.json').then(response => { return response.json() });
  postInit();
}
async function loadJlptN5KanjiQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadJlptN5KanjiQuestions",
    });
  resetNavLinks();
  document.getElementById("jlpt_n5_k_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jlpt_n5_k.json').then(response => { return response.json() });
  postInit();
}
async function loadJlptN5VocabQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadJlptN5VocabQuestions",
    });
  resetNavLinks();
  document.getElementById("jlpt_n5_v_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_jlpt_n5_v.json').then(response => { return response.json() });
  postInit();
}

async function loadMusicQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadMusicQuestions",
    });
  resetNavLinks();
  document.getElementById("music_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_music_notes_1.json').then(response => { return response.json() });
  postInit();
}

async function loadAwsMlQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadAwsMlQuestions",
    });
  resetNavLinks();
  document.getElementById("aws_ml_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_us_aws_ml.json').then(response => { return response.json() });
  postInit();
}

async function loadMorseQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadMorseQuestions",
    });
  resetNavLinks();
  document.getElementById("morse_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_morse.json').then(response => { return response.json() });
  postInit();
}

async function loadAslQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadAslQuestions",
    });
  resetNavLinks();
  document.getElementById("asl_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_asl.json').then(response => { return response.json() });
  postInit();
}

async function loadBaybayinQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadBaybayinQuestions",
    });
  resetNavLinks();
  document.getElementById("baybayin_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_baybayin.json').then(response => { return response.json() });
  postInit();
}
async function loadBrailleQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadBrailleQuestions",
    });
  resetNavLinks();
  document.getElementById("braille_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_braille.json').then(response => { return response.json() });
  postInit();
}

async function loadPeriodicQuestions() {
  gtag('event', 'page_view', {
    "page_title": "loadPeriodicQuestions",
    });
  resetNavLinks();
  document.getElementById("periodic_link").className = "nav-link active";
  window.json = await fetch('https://brianjester.github.io/index-flip/questions_periodic.json').then(response => { return response.json() });
  postInit();
}

function resetNavLinks() {
  document.getElementById("calif_dmv_c_link").className = "nav-link";
  document.getElementById("ny_dmv_link").className = "nav-link";
  document.getElementById("fcc_tech_link").className = "nav-link";
  document.getElementById("ca_basic_link").className = "nav-link";
  document.getElementById("calif_dre_link").className = "nav-link";
  document.getElementById("jp_2_link").className = "nav-link";
  document.getElementById("jp_kanji_1_link").className = "nav-link";
  document.getElementById("jlpt_n5_k_link").className = "nav-link";
  document.getElementById("jlpt_n5_v_link").className = "nav-link";
  document.getElementById("jp_hira_link").className = "nav-link";
  document.getElementById("jp_kata_link").className = "nav-link";
  document.getElementById("music_link").className = "nav-link";
  document.getElementById("aws_ml_link").className = "nav-link";
  document.getElementById("morse_link").className = "nav-link";
  document.getElementById("asl_link").className = "nav-link";
  document.getElementById("baybayin_link").className = "nav-link";
  document.getElementById("create_cards_link").className = "nav-link";
  document.getElementById("load_cards_link").className = "nav-link";
  document.getElementById("periodic_link").className = "nav-link";
  document.getElementById("braille_link").className = "nav-link";
}

function postInit() {
  setupPage();
  setupOrder();
}

function setupPage() {
  // Above card - title and options
  document.getElementById("title").innerHTML = window.json.title;
}

function setupOrder() {
  window.order = "inOrder";
  window.questionRowNum = -1;
  setupCard();
}

function randomize() {
  window.order = "randomize";
  setupCard();
}

function backOne() {
  window.order = "back-one";  // not actually used anywhere
  window.questionRowNum = (window.questionRowNum == 0) ? 0 : window.questionRowNum = window.questionRowNum -1;
  setupCard();
  window.order = "inOrder";
}

function setupCard() {
  window.candAnswer="";
  window.multipleChoice = true;
  flipMe(0);
  const SHOW = "Reveal";
  const NEXT = "▶️";
  const FLIP = "⟳ Flip";
  const CHECK = "Check";
  const test = window.json.test;  // top level node is test
  const numQuestions = test.length;
  var questionRow;

  if (window.order == "inOrder") {
    if (window.questionRowNum < numQuestions-1) {
      window.questionRowNum++;
    } else {
      window.questionRowNum = 0;
    }
  } else if (window.order == "randomize") {
    window.questionRowNum = Math.floor(Math.random() * numQuestions);
  } 

  questionRow = test[window.questionRowNum];
  if (questionRow.B == "" | !questionRow.hasOwnProperty("B")) {
	window.multipleChoice = false;
  }

  // Set up question
  document.getElementById("A").innerHTML = " ";
  document.getElementById("B").innerHTML = " ";
  document.getElementById("C").innerHTML = " ";
  document.getElementById("D").innerHTML = " ";
  document.getElementById("E").innerHTML = " ";
  document.getElementById("question_id").innerHTML = questionRow.id;
  document.getElementById("question").innerHTML = questionRow.question;
  if (window.multipleChoice) {
    document.getElementById("question-back").innerHTML = questionRow.question;
  } else {
    document.getElementById("question-back").innerHTML = "";

  }

  applyFeatures();
  if (questionRow.hasOwnProperty("A")) {
  	if (window.multipleChoice) {
		document.getElementById("A").innerHTML = questionRow.A;
	} else {
		document.getElementById("A").innerHTML = "<h1>" + questionRow.A + "<\/h1>";
	}
  }
  if (questionRow.hasOwnProperty("B")) {
    document.getElementById("B").innerHTML = questionRow.B;
  }
  if (questionRow.hasOwnProperty("C")) {
    document.getElementById("C").innerHTML = questionRow.C;
  }
  if (questionRow.hasOwnProperty("D")) {
    document.getElementById("D").innerHTML = questionRow.D;
  }
  if (questionRow.hasOwnProperty("E")) {
    document.getElementById("E").innerHTML = questionRow.E;
  }
  document.getElementById("next-btn-1").innerHTML = NEXT;
  document.getElementById("flip-btn-front").innerHTML = FLIP;

  // Back of card
  document.getElementById("answer_id").innerHTML = questionRow.id;
  if (window.multipleChoice) {
	document.getElementById("question-back").innerHTML = questionRow.question;
  } else {
  	document.getElementById("question-back").innerHTML = "";
  }
  applyFeatures();

  // Remove any possible images from last card
  document.getElementById("figure-front").innerHTML = "";
  document.getElementById("figure-back").innerHTML = "";
  document.getElementById("figure-attribution").innerHTML = " ";
  document.getElementById("figure-attribution-back").innerHTML = " ";
  
  // check for figures/images
  if (questionRow.hasOwnProperty("image")) {
    const cardImage = questionRow.image;
	  // add image
    document.getElementById("figure-front").innerHTML = "<img src=\""+cardImage+"\" alt=\""+cardImage+"\" class=\"img-fluid\">";
	if (window.multipleChoice) {
		document.getElementById("figure-back").innerHTML = "<img src=\""+cardImage+"\" alt=\""+cardImage+"\" class=\"img-fluid\">";
	} else {
		document.getElementById("figure-back").innerHTML = "";
	}
  }

  // check for figure/image attribution
  if (questionRow.hasOwnProperty("attribution")) {
	// add image
    document.getElementById("figure-attribution").innerHTML = "<i><small>* "+questionRow.attribution+"</small></i>";
	if (window.multipleChoice) {
      document.getElementById("figure-attribution-back").innerHTML = "<i><small>* "+questionRow.attribution+"</small></i>";
	} else {
      document.getElementById("figure-attribution-back").innerHTML = "";
	}
  }

  document.getElementById("check-btn").innerHTML = CHECK;
  document.getElementById("reveal-btn").innerHTML = SHOW;
  document.getElementById("flip-btn-back").innerHTML = FLIP;

  // set up answer row
  const answerLetter = questionRow.answer;
  const answerDivLeft='<div id="answer">';
  const answerDivRight='</div>';
  
  switch (answerLetter)
  {
    case "A": 
		if (window.multipleChoice) {
			document.getElementById(answerLetter).innerHTML = answerDivLeft + questionRow.A + answerDivRight;
		} else {
			document.getElementById("A").innerHTML = "<h1 style=\"text-align: center;\">" + answerDivLeft + questionRow.A + "<\/h1>" + answerDivRight;
		}
    break;
    case "B": 
		document.getElementById(answerLetter).innerHTML = answerDivLeft + questionRow.B + answerDivRight;
    break;
    case "C": 
		document.getElementById(answerLetter).innerHTML = answerDivLeft + questionRow.C + answerDivRight;
    break;
    case "D": 
		document.getElementById(answerLetter).innerHTML = answerDivLeft + questionRow.D + answerDivRight;
    break;
    case "E": 
		document.getElementById(answerLetter).innerHTML = answerDivLeft + questionRow.E + answerDivRight;
    break;
    default:
      // placeholder for case not covered
  }
  clearGuessAndAnswer();
  applyFeatures();
}

function applyFeatures() {
  // feature toggles
  //   show/hide morse code dots and dashes
  var morse_toggle_exists = document.getElementById("flexSwitchCheckChecked");
  if(morse_toggle_exists) {
    document.getElementById("flexSwitchCheckChecked").checked = show_morse;
  }
  if(show_morse) {
	document.getElementsByClassName("morse-text")[0].style.visibility = 'visible';
	} else {
	  document.getElementsByClassName("morse-text")[0].style.visibility = 'hidden';
	}
}
function updateFeatures() {
  // feature toggles
  //   show/hide morse code dots and dashes
  var morse_toggle_exists = document.getElementById("flexSwitchCheckChecked");
  if(morse_toggle_exists) {
    show_morse = document.getElementById("flexSwitchCheckChecked").checked;
  }
  if(show_morse) {
	document.getElementsByClassName("morse-text")[0].style.visibility = 'visible';
	} else {
	  document.getElementsByClassName("morse-text")[0].style.visibility = 'hidden';
	}
}

function reveal() {
  const HIDE = "Hide";
  const SHOW = "Reveal";
  if (document.getElementById("reveal-btn").innerHTML == HIDE) {
    document.getElementById("answer").className = "";
    document.getElementById("reveal-btn").innerHTML = SHOW;
  } else {
    document.getElementById("answer").className = "bg-success text-white";
    document.getElementById("reveal-btn").innerHTML = HIDE;
  }
}

function flipMe(degrees) {
  const div = document.getElementById("flip-card-inner");
  div.style.transform = 'rotateY('+degrees+'deg)';
  applyFeatures();
}

function clearGuessAndAnswer() {
  const letters = ["A", "B", "C", "D", "E"];  //TODO Code Smell breaks easily
  for (let i=0;i<letters.length;i++){
    document.getElementById(letters[i]).className = "";
  }
  document.getElementById("answer").className = "";
  document.getElementById("check-btn").className = "btn btn-secondary btn-med me-md-4";
  window.candAnswer="";
}

function selectAnswer(candidateAnswer) {
  clearGuessAndAnswer();
  document.getElementById("answer").className = "";
  window.candAnswer=candidateAnswer;
  document.getElementById(candidateAnswer).className = "bg-warning";
  //btn btn-secondary btn-med me-md-4
  document.getElementById("check-btn").className = "btn btn-info btn-med me-md-4";
}

function check() {
  const test = window.json.test;  // top level node is test
  questionRow = test[window.questionRowNum];
  const candidateAnswer = window.candAnswer;
  const letters = ["A", "B", "C", "D", "E"];  // TODO code smell
  if (window.candAnswer == questionRow.answer) {
    document.getElementById("answer").className = "bg-success text-white";
    var snd = new Audio("success.mp3"); // buffers automatically when created
    snd.play();
  } else {
    // ensure we're only checking if a choice was made
    if (letters.includes(candidateAnswer)) {
      document.getElementById(candidateAnswer).className = "bg-danger text-white";
    }
  }
}

</script>
  </body>
</html>
